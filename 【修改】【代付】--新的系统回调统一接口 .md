# 接口实现

开发者需要实现接口，并在商户后台中，填写回调地址URL，用户新订单产生时，U盾系统通知 开发者系统

回调请求时，请求信息如下（注意，该接口非U盾系统接口）

**请求协议**
HTTPS

**请求方法**
POST

**请求头部**：

| 头部标签 | 必填 | 类型 | 头部内容 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| Content-Type | 是 | [string] | application/x-www-form-urlencoded | application/x-www-form-urlencoded |

**【充值入金回调】请求参数** 表单

| 参数名 | 说明 | 必填 | 类型 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| method | 回调类型recharge表示充值回调 | 是 | [string] | recharge |
| address | 入账地址 | 是 | [string] | TVi5KFpnE5vzcvMQGFKM6Fo8wMk7TPgi9j |
| amount | 数量 | 是 | [string] | 100 |
| txid | 交易id | 是 | [string] | cd42c33e634053cf6718ad3fb7f436d29ed535122463328f825a07f692f95379 |
| <span style="color:red;">types</span> | 类型:USDT\_TRC20 | 是 | [string] | USDT\_TRC20,USDT\_BEP20,USDT\_ERC2 |
| <span style="color:red;">chain</span> | 链:TRON | 是 | [string] | TRON,BSC,ETH |
| create\_time | 订单创建时间戳 | 是 | [string] | 1737128111 |
| remark | 地址备注，创建地址是传入 | 是 | [string] | 1 |
| timestamp | 时间戳(毫秒级) | 是 | [string] | 1725375841324 |
| access\_key |  | 是 | [string] | 9fa3c9efb4 |
| sign | 签名信息，一定要验证 | 是 | [string] | 59bafdf2c353e08f13cd81bd3e575e04 |

**【代付出金回调】请求参数** 表单

| 参数名 | 说明 | 必填 | 类型 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| method | 回调类型pay表示代付结果回调 | 是 | [string] | pay |
| order\_sn | 订单号，创建订单时必传 | 是 | [string] | P202501142324 |
| shop\_sn | 商户流水订单号 | 是 | [string] | 202412061741172581 |
| txid | 代付交易id | 是 | [string] | cd42c33e634053cf6718ad3fb7f436d29ed535122463328f825a07f692f95379 |
| <span style="color:red;">types</span> | 类型:USDT\_TRC20 | 是 | [string] | USDT\_TRC20,USDT\_BEP20,USDT\_ERC2 |
| <span style="color:red;">chain</span> | 链:TRON | 是 | [string] | TRON,BSC,ETH |
| status | 订单状态 | 是 | [int] | 2=支付完成，-1=拒绝支付 |
| timestamp | 时间戳(毫秒级) | 是 | [string] | 1725375841324 |
| access\_key |  | 是 | [string] | 9fa3c9efb4 |
| sign | 签名信息，一定要验证 | 是 | [string] | 59bafdf2c353e08f13cd81bd3e575e04 |

**开发者收到回调请求时，一定要验证签名，验证通过，返回 “”OK“” 即可，不需要返回额外的数据信息回调失败后，将会在 5s，5s，15s，30s，60s，120s，300s，600s，1200s，1800s，3600s，7200s分别再次回调,可在商户后台查看回调异常信息和状态**

# 测试回调（用于帮开发者调试回调地址）

说明：该接口旨在帮开发者模拟入账回调接口的实现，用户需要

## 接口信息

**API Path**
/v1/address/test\_callback

**请求协议**
HTTPS

**请求方法**
POST

**请求头部**：

| 头部标签 | 必填 | 类型 | 头部内容 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| Content-Type | 是 | [string] | application/x-www-form-urlencoded | application/x-www-form-urlencoded |

**请求参数** 表单

| 参数名 | 说明 | 必填 | 类型 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| address | 入账地址 | 是 | [string] | TVi5KFpnE5vzcvMQGFKM6Fo8wMk7TPgi9j |
| callback | 回调地址 | 是 | [string] | http://127.0.0.1:8081/v1/address/callback |
| amount | 数量 | 是 | [string] | 100 |
| txid | 交易id | 是 | [string] | cd42c33e634053cf6718ad3fb7f436d29ed535122463328f825a07f692f95379 |
| types | 类型:USDT，TRX | 是 | [string] | USDT |
| remark | 地址备注，创建地址是传入 | 是 | [string] | 1 |
| timestamp | 时间戳(毫秒级) | 是 | [string] | 1725375841324 |
| access\_key |  | 是 | [string] | 9fa3c9efb4 |
| secret\_key |  | 是 | [string] | 59bafdf2c353e08f13cd81bd3e575e04 |

**响应内容**：

返回结果为回调接口返回的直接信息

**成功示例[Mock API]**：

```
OK
```
